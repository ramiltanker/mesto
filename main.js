(()=>{"use strict";var e={276:(e,t,n)=>{var r=n(15),o=n.n(r),i=n(645);n.n(i)()(o()).push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://src/pages/index.css"],names:[],mappings:"AAAA;QACQ,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}])},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,o=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],a=o[3];if("function"==typeof btoa){var c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),s="/*# ".concat(u," */"),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(276);var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEsc=this._handleEscClose.bind(this)}var n,r;return n=t,(r=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEsc)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEsc)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){t.target.closest(".popup__container")||t.target.closest(".popup__container-image")||e.close()})),this._popup.querySelector(".popup__close-image").addEventListener("click",(function(){e.close()}))}}])&&e(n.prototype,r),t}();function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,n,r,s,l=(r=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(s){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function f(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(n=l.call(this,e))._submitForm=t,n._form=n._popup.querySelector(".popup__form"),n._button=n._popup.querySelector(".popup__button-submit"),n._buttonDefaultText=n._button.textContent,n}return t=f,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popup.querySelectorAll(".popup__form-input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;i(u(f.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._getInputValues())}))}},{key:"close",value:function(){i(u(f.prototype),"close",this).call(this),this._form.reset()}},{key:"isSaving",value:function(){this._button.textContent="Сохранение..."}},{key:"isSavingReset",value:function(){this._button.textContent=this._buttonDefaultText}}])&&o(t.prototype,n),f}(t);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&l(t.prototype,n),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n,r,o){var i=t.items,a=i.name,c=i.link,u=i.likes,s=i.owner,l=i.cardId,f=t.userId,p=t.handleCardClick,h=t.handleLikeClick,d=t.handleCardDelete;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=a,this._image=c,this._handleCardClick=p,this._cardSelector=n,this._container=document.querySelector(r),this._likes=u,this._cardId=l,this._handleLikeClick=h,this._authorOfCard=s,this._userId=f,this._popupDelete=document.querySelector(o),this._handleCardDelete=d}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".elements__element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".elements__image"),this._cardImage.src=this._image,this._cardImage.alt=this._title,this._element.querySelector(".elements__title").textContent=this._title,this.renderLikes(),this.renderDeleteIcons(),this._setEventListeners(),this._element}},{key:"_likeCard",value:function(){this._handleLikeClick(this,this._cardId)}},{key:"deleteCard",value:function(){this._element.remove()}},{key:"renderDeleteIcons",value:function(){this._authorOfCard!==this._userId&&(this._element.querySelector(".elements__delete-button").style.display="none")}},{key:"isLiked",value:function(e){return this._likes.some((function(t){return t._id===e}))}},{key:"renderLikes",value:function(){this._element.querySelector(".elements__like-score").textContent=this._likes.length,this.isLiked(this._userId)?this._element.querySelector(".elements__like-button").classList.add("elements__like-button_active"):this._element.querySelector(".elements__like-button").classList.remove("elements__like-button_active")}},{key:"setLikesInfo",value:function(e){this._likes=e.likes,this.renderLikes()}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage.addEventListener("click",(function(){e._handleCardClick()})),this._element.querySelector(".elements__like-button").addEventListener("click",(function(){e._likeCard(),e._element.querySelector(".elements__like-button").classList.toggle("elements__like-button_active")})),this._element.querySelector(".elements__delete-button").addEventListener("click",(function(){e._handleCardDelete()}))}}])&&p(t.prototype,n),e}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"open",value:function(e,t){y(b(a.prototype),"open",this).call(this);var n=this._popup.querySelector(".popup__illustration-image");n.src=t,n.alt=e,this._popup.querySelector(".popup__title-image").textContent=e}}])&&_(t.prototype,n),a}(t);function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){var n=t.nameSelector,r=t.infoSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._info=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,info:this._info.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._info.textContent=e.about}}])&&k(t.prototype,n),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){var n=t.address,r=t.token,o=t.cohort;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._token=r,this._cohort=o,this._address=n}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._address,"/").concat(this._cohort,"/cards"),{headers:{authorization:this._token}}).then((function(t){return e._getResponseData(t)}))}},{key:"addNewCards",value:function(e){var t=this;return fetch("".concat(this._address,"/").concat(this._cohort,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._getResponseData(e)}))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._address,"/").concat(this._cohort,"/users/me"),{headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(t){return e._getResponseData(t)}))}},{key:"setProfileInfo",value:function(e,t){var n=this;return fetch("".concat(this._address,"/").concat(this._cohort,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e,about:t})}).then((function(e){return n._getResponseData(e)}))}},{key:"setAvatar",value:function(e){var t=this;return fetch("".concat(this._address,"/").concat(this._cohort,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return t._getResponseData(e)}))}},{key:"likeCard",value:function(e){var t=this;return fetch("".concat(this._address,"/").concat(this._cohort,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCardLike",value:function(e){var t=this;return fetch("".concat(this._address,"/").concat(this._cohort,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._address,"/").concat(this._cohort,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(e){return t._getResponseData(e)}))}}])&&C(t.prototype,n),e}(),E=document.querySelector(".page"),L=E.querySelector(".profile"),q=L.querySelector(".profile__info"),O=q.querySelector(".profile__edit-button"),j=E.querySelector("#popup-profile"),I=(j.querySelector(".popup__close-button"),j.querySelector(".popup__form")),R=I.querySelector(".popup__form-name"),P=I.querySelector(".popup__form-job"),x=(q.querySelector(".profile__name"),q.querySelector(".profile__profession"),E.querySelector("#popup-cards")),D=E.querySelector(".profile__add-button"),T=(x.querySelector(".popup__form-title"),x.querySelector(".popup__form-link"),x.querySelector("#cards-close"),x.querySelector("#popup-form-card"),document.querySelector(".elements"),document.querySelector("#popup-image")),A=(T.querySelector(".popup__close-button-image"),T.querySelector(".popup__title-image"),T.querySelector(".popup__illustration-image"),Array.from(document.querySelectorAll(".popup")),L.querySelector(".profile__avatar-container")),B=A.querySelector(".profile__avatar-redact-image"),U=A.querySelector(".profile__image"),V=(document.querySelector("#avatar-input"),document.querySelector(".elements__like-score"),document.querySelector(".elements__like-button"),document.querySelector("#popup-form-card")),z=document.querySelector("#popup-profile-form"),N=document.querySelector("#popup-avatar-form");function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return(F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(r);if(o){var n=$(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._popup.querySelector(".popup__form"),t}return t=a,(n=[{key:"deleteSubmit",value:function(e){this._sumbit=e}},{key:"setEventListeners",value:function(){var e=this;F($(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._sumbit()}))}}])&&M(t.prototype,n),a}(t);function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectors=t,this._formElement=n,this._button=n.querySelector(".popup__button-submit")}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t,n){var r=e.querySelector("#".concat(t.id,"-error"));t.classList.add(this._selectors.inputErrorClass),r.textContent=n,r.classList.add(this._selectors.errorClass)}},{key:"_hideInputError",value:function(e,t){var n=e.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._selectors.inputErrorClass),n.textContent="",n.classList.remove(this._selectors.errorClass)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e,t){t.validity.valid?this._hideInputError(e,t):this._showInputError(e,t,t.validationMessage)}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add(this._selectors.inactiveButtonClass),t.disabled=!0):(t.classList.remove(this._selectors.inactiveButtonClass),t.disabled=!1)}},{key:"_setEventListeners",value:function(e){var t=this,n=e.querySelector(this._selectors.submitButtonSelector),r=Array.from(e.querySelectorAll(this._selectors.inputSelector));this._toggleButtonState(r,n),r.forEach((function(o){o.addEventListener("input",(function(){t._checkInputValidity(e,o),t._toggleButtonState(r,n)}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners(this._formElement)}},{key:"disableButton",value:function(){this._button.classList.add(this._selectors.inactiveButtonClass),this._button.disabled="true"}}])&&K(t.prototype,n),e}();A.addEventListener("mouseover",(function(){B.classList.add("profile__avatar-redact-image_visible")})),A.addEventListener("mouseout",(function(){B.classList.remove("profile__avatar-redact-image_visible")}));var X=new w({address:"https://mesto.nomoreparties.co/v1",token:"0ab7ee2c-4048-41b7-8933-e3538494cc1c",cohort:"cohort-17"}),Y=new S({nameSelector:".profile__name",infoSelector:".profile__profession"});A.addEventListener("click",(function(){Z.open(),Z.isSavingReset(),ue.disableButton()}));var Z=new s("#popup-avatar",(function(e){X.setAvatar(e.link).then((function(){U.src=e.link,Z.close(),Z.isSaving()})).catch((function(e){console.log(e)}))}));Z.setEventListeners();var ee,te=new s("#popup-profile",(function(e){X.setProfileInfo(e.name,e.about).then((function(){Y.setUserInfo(e),te.close(),te.isSaving()})).catch((function(e){console.log(e)}))}));te.setEventListeners(),X.getUserInfo().then((function(e){Y.setUserInfo(e),U.src=e.avatar,console.log(e),ee=e._id})).catch((function(e){console.log(e)})),O.addEventListener("click",(function(){te.open(),te.isSavingReset();var e=Y.getUserInfo();R.value=e.name,P.value=e.info,se.disableButton()}));var ne=new g("#popup-image");ne.setEventListeners();var re=new G("#popup-delete");re.setEventListeners();var oe=new f({renderer:function(e){ie(e)}},".elements");function ie(e){var t=new h({items:{name:e.name,link:e.link,likes:e.likes,owner:e.owner._id,cardId:e._id},userId:ee,handleCardClick:function(){ne.open(e.name,e.link)},handleLikeClick:function(e,t){e.isLiked(ee)?X.deleteCardLike(t).then((function(t){e.setLikesInfo(t)})):X.likeCard(t).then((function(t){e.setLikesInfo(t)}))},handleCardDelete:function(){re.open(),re.deleteSubmit((function(){X.deleteCard(e._id).then((function(){t.deleteCard(),re.close()}))}))}},"#cards",".elements"),n=t.generateCard();oe.addItem(n)}X.getInitialCards().then((function(e){console.log(e);var t=e.reverse();oe.renderItems(t)})).catch((function(e){console.log(e)}));var ae=new s("#popup-cards",(function(e){ae.isSaving(),X.addNewCards(e).then((function(e){ie(e)})).catch((function(e){console.log(e)})),ae.close(),console.log(e)}));ae.setEventListeners(),D.addEventListener("click",(function(){ae.open(),ae.isSavingReset(),le.disableButton()}));var ce={formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__button-submit",inactiveButtonClass:"popup__button-submit_inactive",inputErrorClass:"popup__form-input_type_error",errorClass:"popup__form-input-error_active",fieldsetClass:".popup__form-set"},ue=new W(ce,N);ue.enableValidation();var se=new W(ce,z);se.enableValidation();var le=new W(ce,V);le.enableValidation()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb25zdGFucy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzIl0sIm5hbWVzIjpbInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY29uY2F0Iiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJfaSIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIkFycmF5IiwiX2l0ZW0iLCJpc0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJPYmplY3QiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwidW5kZWZpbmVkIiwiX3MiLCJuZXh0IiwiZG9uZSIsInZhbHVlIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwibyIsIm1pbkxlbiIsIm4iLCJwcm90b3R5cGUiLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVJlc3QiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfaGFuZGxlRXNjIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xvc2UiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm0iLCJfc3VibWl0Rm9ybSIsIl9mb3JtIiwiX2J1dHRvbiIsIl9idXR0b25EZWZhdWx0VGV4dCIsInRleHRDb250ZW50IiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZm9ybVZhbHVlcyIsImZvckVhY2giLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJlbGVtZW50IiwicHJlcGVuZCIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJwb3B1cERlbGV0ZVNlbGVjdG9yIiwibGluayIsImxpa2VzIiwib3duZXIiLCJjYXJkSWQiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiX3RpdGxlIiwiX2ltYWdlIiwiX2hhbmRsZUNhcmRDbGljayIsIl9jYXJkU2VsZWN0b3IiLCJfbGlrZXMiLCJfY2FyZElkIiwiX2hhbmRsZUxpa2VDbGljayIsIl9hdXRob3JPZkNhcmQiLCJfdXNlcklkIiwiX3BvcHVwRGVsZXRlIiwiX2hhbmRsZUNhcmREZWxldGUiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2UiLCJzcmMiLCJhbHQiLCJyZW5kZXJMaWtlcyIsInJlbmRlckRlbGV0ZUljb25zIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3R5bGUiLCJkaXNwbGF5Iiwic29tZSIsInVzZXIiLCJfaWQiLCJpc0xpa2VkIiwicmVzdWx0IiwiX2xpa2VDYXJkIiwidG9nZ2xlIiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZSIsInBvcHVwSW1hZ2UiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImluZm9TZWxlY3RvciIsIl9uYW1lIiwiX2luZm8iLCJpbmZvIiwiYWJvdXQiLCJBcGkiLCJhZGRyZXNzIiwidG9rZW4iLCJjb2hvcnQiLCJfdG9rZW4iLCJfY29ob3J0IiwiX2FkZHJlc3MiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJfZ2V0UmVzcG9uc2VEYXRhIiwibWV0aG9kIiwiYm9keSIsImF2YXRhciIsInBhZ2UiLCJwcm9maWxlIiwicHJvZmlsZUluZm8iLCJlZGl0QnV0dG9uIiwicHJvZmlsZVBvcHVwIiwiZm9ybVByb2ZpbGVFbGVtZW50IiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJwb3B1cENhcmRzIiwiY2FyZEFkZEJ1dHRvbiIsImltYWdlUG9wdXAiLCJhdmF0YXJDb250YWluZXIiLCJhdmF0YXJSZWRhY3RJbWFnZSIsImF2YXRhckltYWdlIiwiY2FyZEZvcm0iLCJwcm9maWxlRm9ybSIsImF2YXRhckZvcm0iLCJQb3B1cERlbGV0ZSIsInN1Ym1pdCIsIl9zdW1iaXQiLCJGb3JtVmFsaWRhdG9yIiwic2VsZWN0b3JzIiwiZm9ybUVsZW1lbnQiLCJfc2VsZWN0b3JzIiwiX2Zvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImlucHV0TGlzdCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImJ1dHRvbkVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImFwaSIsInVzZXJJbmZvIiwicG9wdXBBdmF0YXIiLCJvcGVuIiwiaXNTYXZpbmdSZXNldCIsImZvcm1BdmF0YXIiLCJkaXNhYmxlQnV0dG9uIiwic2V0QXZhdGFyIiwiaXNTYXZpbmciLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwUHJvZmlsZSIsInNldFByb2ZpbGVJbmZvIiwic2V0VXNlckluZm8iLCJnZXRVc2VySW5mbyIsInVzZXJEYXRhIiwiZm9ybVByb2ZpbGUiLCJwb3B1cERlbGV0ZSIsImNhcmRzU2VjdGlvbiIsImFkZE5ld0NhcmQiLCJjYXJkIiwiZGVsZXRlQ2FyZExpa2UiLCJzZXRMaWtlc0luZm8iLCJsaWtlQ2FyZCIsImRlbGV0ZVN1Ym1pdCIsImRlbGV0ZUNhcmQiLCJjYXJkRWxlbWVudCIsImdlbmVyYXRlQ2FyZCIsImFkZEl0ZW0iLCJnZXRJbml0aWFsQ2FyZHMiLCJkYXRhUmV2ZXJzZSIsInJldmVyc2UiLCJyZW5kZXJJdGVtcyIsInBvcHVwQ2FyZCIsImFkZE5ld0NhcmRzIiwiZm9ybUNhcmQiLCJhbGxTZWxlY3RvcnMiLCJmb3JtU2VsZWN0b3IiLCJmaWVsZHNldENsYXNzIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJtYXBwaW5ncyI6IjRFQUc4QixHQUE0QixLQUVsQ0EsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLHNEQUF1RCxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQyxpQ0FBaUMsTUFBUSxHQUFHLFNBQVcsaUJBQWlCLGVBQWlCLENBQUMsdURBQXVELFdBQWEsTyxR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QlYsZ0JBQWlCLCtCQUNqQkMsV0FBWSxpQ0FDWnVELGNBQWUsb0JBT1huQyxHQUFhLElBQUk3QixFQUFjOEQsR0FBY2xFLEdBQ25EaUMsR0FBV29DLG1CQUVYLElBQU12QixHQUFjLElBQUkxQyxFQUFjOEQsR0FBY25FLEdBQ3BEK0MsR0FBWXVCLG1CQUVaLElBQU1KLEdBQVcsSUFBSTdELEVBQWM4RCxHQUFjcEUsR0FDakRtRSxHQUFTSSxvQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cXG5leHBvcnQge307XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovL3NyYy9wYWdlcy9pbmRleC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7UUFDUSxDQUFBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxcbmV4cG9ydCB7fTtcIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2MpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2MpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXZ0LnRhcmdldC5jbG9zZXN0KCcucG9wdXBfX2NvbnRhaW5lcicpICYmICFldnQudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cF9fY29udGFpbmVyLWltYWdlJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtaW1hZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1BvcHVwfSBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCAgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEZvcm0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcclxuICAgICAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tc3VibWl0Jyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRGVmYXVsdFRleHQgPSB0aGlzLl9idXR0b24udGV4dENvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fZm9ybS1pbnB1dCcpO1xyXG5cclxuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzW2l0ZW0ubmFtZV0gPSBpdGVtLnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gICBcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB0aGlzLl9zdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBpc1NhdmluZygpIHtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU2F2aW5nUmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uRGVmYXVsdFRleHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHtyZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goIChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7aXRlbXM6IHtuYW1lLCBsaW5rLCBsaWtlcywgb3duZXIsIGNhcmRJZH0sIHVzZXJJZCwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZUNhcmREZWxldGV9LCBjYXJkU2VsZWN0b3IsIGNvbnRhaW5lclNlbGVjdG9yLCBwb3B1cERlbGV0ZVNlbGVjdG9yKSB7XG4gICAgdGhpcy5fdGl0bGUgPSBuYW1lO1xuICAgIHRoaXMuX2ltYWdlID0gbGluaztcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XG4gICAgdGhpcy5fY2FyZElkID0gY2FyZElkO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLl9hdXRob3JPZkNhcmQgPSBvd25lcjtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5fcG9wdXBEZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwRGVsZXRlU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2VsZW1lbnRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKVxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9pbWFnZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fdGl0bGU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xuICAgIHRoaXMucmVuZGVyTGlrZXMoKTtcbiAgICB0aGlzLnJlbmRlckRlbGV0ZUljb25zKCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gXG5cbiAgX2xpa2VDYXJkKCkge1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLCB0aGlzLl9jYXJkSWQpO1xuXG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuXG4gIHJlbmRlckRlbGV0ZUljb25zKCkge1xuICAgIGlmKHRoaXMuX2F1dGhvck9mQ2FyZCAhPT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlLWJ1dHRvblwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgXG4gIH1cblxuICBpc0xpa2VkKHVzZXJJZCkge1xuICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUodXNlciA9PiB1c2VyLl9pZCA9PT0gdXNlcklkKTtcbiAgfVxuXG5cbiAgcmVuZGVyTGlrZXMoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2Utc2NvcmUnKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICBpZih0aGlzLmlzTGlrZWQodGhpcy5fdXNlcklkKSkge1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlLWJ1dHRvblwiKS5jbGFzc0xpc3QuYWRkKCdlbGVtZW50c19fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlLWJ1dHRvblwiKS5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50c19fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgICBzZXRMaWtlc0luZm8ocmVzdWx0KSB7XG4gICAgdGhpcy5fbGlrZXMgPSByZXN1bHQubGlrZXM7XG4gICAgdGhpcy5yZW5kZXJMaWtlcygpO1xufVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkSW1hZ2VcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fbGlrZUNhcmQoKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZS1idXR0b25cIikuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudHNfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUoKTtcbiAgICAgIH0pO1xuICB9XG5cbn1cbiIsImltcG9ydCB7UG9wdXB9IGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyAgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihuYW1lLCBpbWFnZSkge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICBjb25zdCBwb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbGx1c3RyYXRpb24taW1hZ2UnKTtcclxuICAgICAgICBwb3B1cEltYWdlLnNyYyA9IGltYWdlO1xyXG4gICAgICAgIHBvcHVwSW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgICAgICBjb25zdCBwb3B1cEltYWdlVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RpdGxlLWltYWdlJyk7XHJcbiAgICAgICAgcG9wdXBJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIH0gICBcclxufSIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7bmFtZVNlbGVjdG9yLCBpbmZvU2VsZWN0b3J9KSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbmZvU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBpbmZvOiB0aGlzLl9pbmZvLnRleHRDb250ZW50XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdXNlckluZm87XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5faW5mby50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGFkZHJlc3MsIHRva2VuLCBjb2hvcnQgfSkge1xyXG4gICAgdGhpcy5fdG9rZW4gPSB0b2tlbjtcclxuICAgIHRoaXMuX2NvaG9ydCA9IGNvaG9ydDtcclxuICAgIHRoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xyXG4gIH1cclxuICAgIFxyXG5cclxuICBfZ2V0UmVzcG9uc2VEYXRhKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxufSBcclxuXHJcblxyXG5cclxuICAgICAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2FkZHJlc3N9LyR7dGhpcy5fY29ob3J0fS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IFxyXG4gICAgICAgICAgICB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKVxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgYWRkTmV3Q2FyZHMoZGF0YSkge1xyXG4gICAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2FkZHJlc3N9LyR7dGhpcy5fY29ob3J0fS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgIGxpbms6IGRhdGEubGlua1xyXG4gICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKHJlcyA9PiBcclxuICAgICAgICAgICAgdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcylcclxuICAgICAgICApXHJcbiAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9hZGRyZXNzfS8ke3RoaXMuX2NvaG9ydH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IFxyXG4gICAgICAgICAgdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcylcclxuICAgICAgKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRQcm9maWxlSW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9hZGRyZXNzfS8ke3RoaXMuX2NvaG9ydH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLCBcclxuICAgICAgICAgICAgYWJvdXQ6IGFib3V0XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC50aGVuKHJlcyA9PiBcclxuICAgICAgICAgIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpXHJcbiAgICAgIClcclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIHNldEF2YXRhcihhdmF0YXIpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYWRkcmVzc30vJHt0aGlzLl9jb2hvcnR9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIGF2YXRhcjogYXZhdGFyXHJcbiAgICAgICAgICB9KSAgXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gXHJcbiAgICAgICAgICB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKVxyXG4gICAgICApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFxyXG4gICAgICBsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYWRkcmVzc30vJHt0aGlzLl9jb2hvcnR9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gXHJcbiAgICAgICAgICB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKVxyXG4gICAgICApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRlbGV0ZUNhcmRMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9hZGRyZXNzfS8ke3RoaXMuX2NvaG9ydH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiBcclxuICAgICAgICAgIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpXHJcbiAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYWRkcmVzc30vJHt0aGlzLl9jb2hvcnR9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gXHJcbiAgICAgICAgICB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKVxyXG4gICAgICApXHJcbiAgICAgIH1cclxuICAgICAgLy8g0LTRgNGD0LPQuNC1INC80LXRgtC+0LTRiyDRgNCw0LHQvtGC0Ysg0YEgQVBJXHJcbn0iLCJjb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wYWdlXCIpO1xyXG5jb25zdCBwcm9maWxlID0gcGFnZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVcIik7XHJcbmNvbnN0IHByb2ZpbGVJbmZvID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2luZm9cIik7XHJcbmNvbnN0IGVkaXRCdXR0b24gPSBwcm9maWxlSW5mby5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlUG9wdXAgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtcHJvZmlsZVwiKTtcclxuY29uc3QgY2xvc2VCdXR0b24gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xyXG5jb25zdCBmb3JtUHJvZmlsZUVsZW1lbnQgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuY29uc3QgbmFtZUlucHV0ID0gZm9ybVByb2ZpbGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm0tbmFtZVwiKTtcclxuY29uc3Qgam9iSW5wdXQgPSBmb3JtUHJvZmlsZUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybS1qb2JcIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZUluZm8ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlUHJvZmVzc2lvbiA9IHByb2ZpbGVJbmZvLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcHJvZmVzc2lvblwiKTtcclxuXHJcbmNvbnN0IHBvcHVwQ2FyZHMgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtY2FyZHNcIik7XHJcbmNvbnN0IGNhcmRBZGRCdXR0b24gPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgY2FyZE5hbWVJbnB1dCA9IHBvcHVwQ2FyZHMucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybS10aXRsZVwiKTtcclxuY29uc3QgY2FyZExpbmtJbnB1dCA9IHBvcHVwQ2FyZHMucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybS1saW5rXCIpO1xyXG5jb25zdCBjYXJkc0Nsb3NlQnV0dG9uID0gcG9wdXBDYXJkcy5xdWVyeVNlbGVjdG9yKFwiI2NhcmRzLWNsb3NlXCIpO1xyXG5jb25zdCBjYXJkTGlzdEVsZW1lbnQgPSBwb3B1cENhcmRzLnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtZm9ybS1jYXJkXCIpO1xyXG5cclxuY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtaW1hZ2VcIik7XHJcbmNvbnN0IGNsb3NlUG9wdXBJbWFnZUJ1dHRvbiA9IGltYWdlUG9wdXAucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9fY2xvc2UtYnV0dG9uLWltYWdlXCJcclxuKTtcclxuXHJcbmNvbnN0IHBvcHVwSW1hZ2VUaXRsZSA9IGltYWdlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGUtaW1hZ2VcIik7XHJcbmNvbnN0IHBvcHVwSW1hZ2VJbGx1c3RyYXRpb24gPSBpbWFnZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2lsbHVzdHJhdGlvbi1pbWFnZVwiXHJcbik7XHJcblxyXG5jb25zdCBhbGxQb3B1cHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBcIikpO1xyXG5cclxuY29uc3QgYXZhdGFyQ29udGFpbmVyID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWNvbnRhaW5lcicpO1xyXG5jb25zdCBhdmF0YXJSZWRhY3RJbWFnZSA9IGF2YXRhckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLXJlZGFjdC1pbWFnZScpO1xyXG5jb25zdCBhdmF0YXJJbWFnZSA9IGF2YXRhckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKTtcclxuY29uc3QgYXZhdGFySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXZhdGFyLWlucHV0Jyk7XHJcblxyXG5jb25zdCBsaWtlc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fbGlrZS1zY29yZScpO1xyXG5jb25zdCBsaWtlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19saWtlLWJ1dHRvbicpO1xyXG5cclxuXHJcbmNvbnN0IGNhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1mb3JtLWNhcmRcIik7XHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1wcm9maWxlLWZvcm1cIik7XHJcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9wdXAtYXZhdGFyLWZvcm0nKTtcclxuXHJcblxyXG5leHBvcnQge3BhZ2UsIHByb2ZpbGUsIHByb2ZpbGVJbmZvLCBlZGl0QnV0dG9uLCBwcm9maWxlUG9wdXAsIGNsb3NlQnV0dG9uLCBmb3JtUHJvZmlsZUVsZW1lbnQsIG5hbWVJbnB1dCwgam9iSW5wdXQsIHByb2ZpbGVOYW1lLCBwcm9maWxlUHJvZmVzc2lvbixcclxucG9wdXBDYXJkcywgY2FyZEFkZEJ1dHRvbiwgY2FyZE5hbWVJbnB1dCwgY2FyZExpbmtJbnB1dCwgY2FyZHNDbG9zZUJ1dHRvbiwgY2FyZExpc3RFbGVtZW50LCBjYXJkc0NvbnRhaW5lciwgaW1hZ2VQb3B1cCwgY2xvc2VQb3B1cEltYWdlQnV0dG9uLFxyXG5wb3B1cEltYWdlVGl0bGUsIHBvcHVwSW1hZ2VJbGx1c3RyYXRpb24sIGFsbFBvcHVwcywgYXZhdGFyQ29udGFpbmVyLCBhdmF0YXJSZWRhY3RJbWFnZSwgYXZhdGFySW1hZ2UsIGF2YXRhcklucHV0LCBsaWtlc0NvbnRhaW5lciwgbGlrZUJ1dHRvbiwgY2FyZEZvcm0sXHJcbnByb2ZpbGVGb3JtLCBhdmF0YXJGb3JtfTsiLCJpbXBvcnQge1BvcHVwfSBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCAgY2xhc3MgUG9wdXBEZWxldGUgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZVN1Ym1pdChzdWJtaXQpIHtcclxuICAgICAgICB0aGlzLl9zdW1iaXQgPSBzdWJtaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCk9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdW1iaXQoKTtcclxuICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX3NlbGVjdG9ycyA9IHNlbGVjdG9ycztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50OyAgXG4gICAgdGhpcy5fYnV0dG9uID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tc3VibWl0Jyk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NlbGVjdG9ycy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZWxlY3RvcnMuZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZWxlY3RvcnMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NlbGVjdG9ycy5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKGZ1bmN0aW9uIChpbnB1dEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKFxuICAgICAgICBmb3JtRWxlbWVudCxcbiAgICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2VcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZWxlY3RvcnMuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NlbGVjdG9ycy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQpIHtcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3NlbGVjdG9ycy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG5cbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZWxlY3RvcnMuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnModGhpcy5fZm9ybUVsZW1lbnQpO1xuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9zZWxlY3RvcnMuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gJ3RydWUnO1xuICB9XG4gIH1cblxuIiwiaW1wb3J0ICcuLi9wYWdlcy9pbmRleC5jc3MnO1xuaW1wb3J0IHtQb3B1cFdpdGhGb3JtfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IHtTZWN0aW9ufSBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7UG9wdXBXaXRoSW1hZ2V9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IHtVc2VySW5mb30gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQge0FwaX0gZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IHt2aXNpYmxlQXZhdGFyUmVkYWN0SW1hZ2UsIGhpZGVBdmF0YXJSZWRhY3RJbWFnZX0gZnJvbSAnLi4vc2NyaXB0cy91dGlscy5qcyc7XG5pbXBvcnQge1BvcHVwRGVsZXRlfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwRGVsZXRlLmpzJztcbmltcG9ydCB7ZWRpdEJ1dHRvbiwgbmFtZUlucHV0LCBqb2JJbnB1dCwgY2FyZEFkZEJ1dHRvbiwgYXZhdGFyQ29udGFpbmVyLCBhdmF0YXJSZWRhY3RJbWFnZSwgYXZhdGFySW1hZ2UsIHByb2ZpbGVOYW1lLCBcbiAgcHJvZmlsZVByb2Zlc3Npb24sIGF2YXRhcklucHV0LCBsaWtlc0NvbnRhaW5lciwgbGlrZUJ1dHRvbiwgcG9wdXBDYXJkcywgYXZhdGFyRm9ybSwgcHJvZmlsZUZvcm0sIGNhcmRGb3JtfSBmcm9tICcuLi9zY3JpcHRzL2NvbnN0YW5zLmpzJztcblxuXG5hdmF0YXJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdmlzaWJsZUF2YXRhclJlZGFjdEltYWdlKTtcbmF2YXRhckNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGhpZGVBdmF0YXJSZWRhY3RJbWFnZSk7XG5cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGFkZHJlc3M6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEnLFxuICB0b2tlbjogJzBhYjdlZTJjLTQwNDgtNDFiNy04OTMzLWUzNTM4NDk0Y2MxYycsXG4gIGNvaG9ydDogJ2NvaG9ydC0xNydcbiAgfSk7XG5cblxuXG4gIGNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtuYW1lU2VsZWN0b3I6Jy5wcm9maWxlX19uYW1lJyAsIGluZm9TZWxlY3RvcjonLnByb2ZpbGVfX3Byb2Zlc3Npb24nfSk7XG5cbiAgICBhdmF0YXJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcG9wdXBBdmF0YXIub3BlbigpO1xuICAgIHBvcHVwQXZhdGFyLmlzU2F2aW5nUmVzZXQoKTtcbiAgICBmb3JtQXZhdGFyLmRpc2FibGVCdXR0b24oKTtcbiAgfSlcblxuICBmdW5jdGlvbiBzdWJtaXRBdmF0YXJIYW5kbGVyKGRhdGEpIHtcbiAgICBhcGkuc2V0QXZhdGFyKGRhdGEubGluaylcbiAgICAudGhlbiggKCkgPT4ge1xuICAgICAgYXZhdGFySW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xuICAgICAgcG9wdXBBdmF0YXIuY2xvc2UoKTtcbiAgICAgIHBvcHVwQXZhdGFyLmlzU2F2aW5nKCk7XG4gICAgfSkgXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH0pXG4gIH1cblxuICBjb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXAtYXZhdGFyJywgc3VibWl0QXZhdGFySGFuZGxlcik7XG5cbiAgcG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgXG5cbiAgZnVuY3Rpb24gZm9ybVN1Ym1pdEhhbmRsZXIoZGF0YSkge1xuICAgIGFwaS5zZXRQcm9maWxlSW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgICAgcG9wdXBQcm9maWxlLmNsb3NlKCk7XG4gICAgICAgIHBvcHVwUHJvZmlsZS5pc1NhdmluZygpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH0pXG4gIH1cbiAgXG4gIGNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXAtcHJvZmlsZScsIGZvcm1TdWJtaXRIYW5kbGVyKTtcbiAgcG9wdXBQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIFxuICBsZXQgdXNlcklkO1xuICBhcGkuZ2V0VXNlckluZm8oKVxuICAudGhlbihkYXRhID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgYXZhdGFySW1hZ2Uuc3JjID0gZGF0YS5hdmF0YXI7XG4gIGNvbnNvbGUubG9nKGRhdGEpO1xuICB1c2VySWQgPSBkYXRhLl9pZDtcbiAgfSlcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgfSlcbiAgXG4gIFxuICBcbiAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHBvcHVwUHJvZmlsZS5vcGVuKCk7XG4gICAgcG9wdXBQcm9maWxlLmlzU2F2aW5nUmVzZXQoKTtcbiAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gICAgbmFtZUlucHV0LnZhbHVlID0gdXNlckRhdGEubmFtZTtcbiAgICBqb2JJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmluZm87XG4gICAgZm9ybVByb2ZpbGUuZGlzYWJsZUJ1dHRvbigpO1xuICB9KTtcblxuXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcjcG9wdXAtaW1hZ2UnKTtcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBEZWxldGUgPSBuZXcgUG9wdXBEZWxldGUoJyNwb3B1cC1kZWxldGUnKTtcbnBvcHVwRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cblxuLy8g0J7RgtGA0LjRgdC+0LLQutCwINC60LDRgNGC0L7Rh9C10LpcblxuXG5jb25zdCBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbXMpID0+IHtcbiAgICAgIGFkZE5ld0NhcmQoaXRlbXMpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmVsZW1lbnRzXCJcbilcblxuXG5mdW5jdGlvbiBhZGROZXdDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHsgXG4gICAgaXRlbXM6IHtcbiAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgIGxpa2VzOiBkYXRhLmxpa2VzLFxuICAgICAgICAgb3duZXI6IGRhdGEub3duZXIuX2lkLFxuICAgICAgICAgIGNhcmRJZDogZGF0YS5faWRcbiAgICB9LFxuICAgIHVzZXJJZDogdXNlcklkLFxuICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XG4gICAgIHBvcHVwSW1hZ2Uub3BlbihkYXRhLm5hbWUsIGRhdGEubGluayk7XG4gICB9LFxuIGhhbmRsZUxpa2VDbGljazogKGNhcmQsIGNhcmRJZCkgPT4ge1xuICAgaWYoY2FyZC5pc0xpa2VkKHVzZXJJZCkpIHtcbiAgICAgYXBpLmRlbGV0ZUNhcmRMaWtlKGNhcmRJZClcbiAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjYXJkLnNldExpa2VzSW5mbyhyZXN1bHQpO1xuICAgICB9KVxuXG4gICB9XG4gICBlbHNlIHtcbiAgICAgYXBpLmxpa2VDYXJkKGNhcmRJZClcbiAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICBjYXJkLnNldExpa2VzSW5mbyhyZXN1bHQpO1xuICAgICAgIH0pXG4gICB9XG4gfSwgXG5oYW5kbGVDYXJkRGVsZXRlOiAoKSA9PiB7XG4gcG9wdXBEZWxldGUub3BlbigpO1xuIHBvcHVwRGVsZXRlLmRlbGV0ZVN1Ym1pdCgoKSA9PiB7XG4gICBhcGkuZGVsZXRlQ2FyZChkYXRhLl9pZClcbiAgIC50aGVuKCgpID0+IHtcbiAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgIHBvcHVwRGVsZXRlLmNsb3NlKCk7XG4gICB9KVxuIH0pXG59LCB9LCBcblwiI2NhcmRzXCIsICcuZWxlbWVudHMnKTtcbiAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgIGNhcmRzU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbn1cblxuYXBpLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gIGNvbnNvbGUubG9nKGRhdGEpO1xuICBjb25zdCBkYXRhUmV2ZXJzZSA9IGRhdGEucmV2ZXJzZSgpO1xuICBjYXJkc1NlY3Rpb24ucmVuZGVySXRlbXMoZGF0YVJldmVyc2UpO1xufSlcbi5jYXRjaCgoZXJyb3IpID0+IHtcbiAgY29uc29sZS5sb2coZXJyb3IpO1xufSlcbi8vINCe0YLRgNC40YHQvtCy0LrQsCDQutCw0YDRgtC+0YfQtdC6XG5cblxuXG4vLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLRi9GFINC60LDRgNGC0L7Rh9C10LpcblxuY29uc3QgcG9wdXBDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cC1jYXJkcycsIChkYXRhKSA9PiB7XG4gIHBvcHVwQ2FyZC5pc1NhdmluZygpO1xuIGFwaS5hZGROZXdDYXJkcyhkYXRhKVxuIC50aGVuKGRhdGEgPT4ge1xuYWRkTmV3Q2FyZChkYXRhKTtcbiB9KVxuIC5jYXRjaCAoKGVycm9yKSA9PiB7XG4gIGNvbnNvbGUubG9nKGVycm9yKTtcbn0pXG5wb3B1cENhcmQuY2xvc2UoKTtcbmNvbnNvbGUubG9nKGRhdGEpO1xufSk7XG5cbnBvcHVwQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jYXJkQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cENhcmQub3BlbigpO1xuICBwb3B1cENhcmQuaXNTYXZpbmdSZXNldCgpO1xuICBmb3JtQ2FyZC5kaXNhYmxlQnV0dG9uKCk7XG59KTtcblxuLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0L3QvtCy0YvRhSDQutCw0YDRgtC+0YfQtdC6XG5cblxuY29uc3QgYWxsU2VsZWN0b3JzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtLWlucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uLXN1Ym1pdFwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b24tc3VibWl0X2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9fZm9ybS1pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Zvcm0taW5wdXQtZXJyb3JfYWN0aXZlXCIsXG4gIGZpZWxkc2V0Q2xhc3M6IFwiLnBvcHVwX19mb3JtLXNldFwiLFxufTtcblxuXG5cbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9uLmpzXCI7XG5cbmNvbnN0IGZvcm1BdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcihhbGxTZWxlY3RvcnMsIGF2YXRhckZvcm0pO1xuZm9ybUF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGZvcm1Qcm9maWxlID0gbmV3IEZvcm1WYWxpZGF0b3IoYWxsU2VsZWN0b3JzLCBwcm9maWxlRm9ybSk7XG5mb3JtUHJvZmlsZS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGZvcm1DYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IoYWxsU2VsZWN0b3JzLCBjYXJkRm9ybSk7XG5mb3JtQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7IiwiaW1wb3J0IHthdmF0YXJSZWRhY3RJbWFnZX0gZnJvbSAnLi9jb25zdGFucy5qcyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmlzaWJsZUF2YXRhclJlZGFjdEltYWdlKCkge1xyXG4gICAgYXZhdGFyUmVkYWN0SW1hZ2UuY2xhc3NMaXN0LmFkZCgncHJvZmlsZV9fYXZhdGFyLXJlZGFjdC1pbWFnZV92aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVBdmF0YXJSZWRhY3RJbWFnZSgpIHtcclxuICAgIGF2YXRhclJlZGFjdEltYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2ZpbGVfX2F2YXRhci1yZWRhY3QtaW1hZ2VfdmlzaWJsZScpO1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9